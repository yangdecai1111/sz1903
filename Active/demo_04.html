<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>javascript之运动</title>
    <style type="text/css">
        body{
            margin:0 auto;
            position:relative;
        }
        #container{
            width:500px; height:500px; position:relative;
            border:solid 2px #ccc;
            margin:100px auto auto 50px;
        }
        #demo{
            width:50px; height:50px; background-color:red; position:absolute; top:475px; left:0px;
            border-radius:50%;
            opacity:0.3;/*透明度的css*/
        }
    </style>
    <script type="text/javascript">
        /**您现在看到的是由千锋H5教学部为您录制的教学视频。*/

        /**
         * 运动：抛物线
         *
         * 首先要对网页的坐标有个了解：左上顶点（0，0），笛卡尔坐标系
         *
         * demo：抛物线
         * 需求：圆形div按照抛物线方式运动
         * y=a*Math.pow(x,2)+b*x+c
         * y=n*Math.pow(x-x1,2)+y1
         */

//        document.onmousemove=function(e){
//            e=e||window.event;
//            document.getElementsByTagName("body")[0].innerHTML=e.clientX+","+e.clientY;
//        }
//        function main(){
//            var _timer=0;
//            var _demo=document.getElementById("demo");
//            (function move(){
//                window.clearTimeout(_timer);
//                _demo.style.left=(_demo.offsetLeft+=1)+"px";
//                _demo.style.top=1/125*Math.pow(_demo.offsetLeft-250,2)+"px";
//                //62500/n==500;n==62500/500;
//                //alert(_demo.offsetLeft);
//                if(_demo.offsetLeft<=500){
//                    _timer=window.setTimeout(move,30);
//                }
//            })();
//        }


        /**
         * 透明度的变化
         *
         * css：opacity
         */
        function main(){
            var _timer=0;
            var _demo=document.getElementById("demo");
            var _opacity=0.3;
            (function changeOpacity(){
                window.clearTimeout(_timer);
                if(_demo.style.filter) {
                    _opacity=_opacity*100+2;
                    _demo.style.filter="alpha(opacity:"+(_opacity*100)+")";//(_opacity+=0.02);
                    if (_opacity < 100) {
                        _timer = window.setTimeout(changeOpacity, 30);
                    } else {
                        _demo.style.filter = "alpha(opacity:100)";
                    }
                }else{
                    _demo.style.opacity=(_opacity+=0.02);
                    if (_opacity < 1) {
                        _timer = window.setTimeout(changeOpacity, 30);
                    } else {
                        _demo.style.opacity = 1;
                    }
                }
            })();
        }


        /**
         * 抛物线的重力回弹
         * 每次回弹的高度是前一次的1/2，开口大小也减少1/2
         */




        window.onload=main;
    </script>
</head>
<body>
<div id="container">
    <div id="demo"></div>
</div>
</body>
</html>